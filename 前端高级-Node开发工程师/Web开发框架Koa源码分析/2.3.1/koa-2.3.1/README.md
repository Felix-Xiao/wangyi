# 异常捕获和错误处理
---
## 中间件层处理

## 框架级处理

## 总结

我们现在已经实现了一个轻量级的koa框架，实现了封装 Node http server、创建了koa的类构造函数、构造了request、response、context对象以及中间件机制和剥洋葱模型的实现、koa中间件层和框架级的异常捕获与错误处理，理解了这个轻量版的koa实现原理。掌握了这些，我们在去学习koa的使用或者再去细读koa2的源码，你就会发现一切都豁然开朗，koa2的源码无非就是在这个轻量版的基础上加了很多工具函数和细节处理。